webpackJsonp([13],{"1w/Q":function(t,e,n){"use strict";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom"},[e("ul",[e("router-link",{attrs:{to:"/home",tag:"li"}},[this._v("外卖")]),this._v(" "),e("router-link",{attrs:{to:"/search",tag:"li"}},[this._v("搜索")]),this._v(" "),e("router-link",{attrs:{to:"/order",tag:"li"}},[this._v("订单")]),this._v(" "),e("router-link",{attrs:{to:"/my",tag:"li"}},[this._v("我的")])],1)])},staticRenderFns:[]};var a=n("C7Lr")({name:"bottom",data:function(){return{}}},o,!1,function(t){n("R+nR")},null,null);e.a=a.exports},"42zy":function(t,e){},"4WSK":function(t,e){},"5OHe":function(t,e){},"9Hmr":function(t,e){},"9VQw":function(t,e){},J2ir:function(t,e){},NGWz:function(t,e){var n,o,a,s,i;n=document,o=window,a=n.documentElement,s="orientationchange"in window?"orientationchange":"resize",i=function(){var t=a.clientWidth;t&&(a.style.fontSize=t/150*20+"px")},n.addEventListener&&(o.addEventListener(s,i,!1),n.addEventListener("DOMContentLoaded",i,!1))},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("xd7I"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"router-fade"}},[e("keep-alive",[e("router-view")],1)],1)],1)},staticRenderFns:[]};var s=n("C7Lr")({name:"App",data:function(){return{}}},a,!1,function(t){n("9VQw")},null,null).exports,i=n("ZWLj"),r=n("ZLEe"),c=n.n(r),d=n("Muz9"),u=n.n(d),l=n("ilO1"),v={name:"HelloWorld",components:{Head:l.a},data:function(){return{list:[],box:[],cher:[],location:[],bgood:" ",out:""}},created:function(){var t=this;localStorage.getItem("vuex")?this.out=2:this.out=1,u.a.get("http://elm.cangdu.org/v1/cities?type=guess").then(function(e){t.location=e.data}),u.a.get("http://elm.cangdu.org/v1/cities?type=hot").then(function(e){t.list=e.data}),u.a.get("http://elm.cangdu.org/v1/cities?type=group").then(function(e){t.box=e.data,t.cher=c()(e.data).sort()})}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("Head",{attrs:{agood:!0,bgood:t.bgood,cgood:t.out}}),t._v(" "),n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("div",{staticClass:"zhi1"},[n("div",[n("router-link",{attrs:{to:"/detail"}},[t._v(t._s(t.location.name))])],1),t._v(" "),n("div",[t._v(">")])]),t._v(" "),n("div",{staticClass:"hot"},[n("p",[t._v("热门城市")]),t._v(" "),n("ul",t._l(t.list,function(e,o){return n("li",{key:o},[n("router-link",{attrs:{to:"/detail?id="+e.id}},[t._v(t._s(e.name))])],1)}),0)]),t._v(" "),t._l(t.cher,function(e,o){return n("div",{key:o,staticClass:"cities"},[n("p",[t._v(t._s(e)+"(按字母排序)")]),t._v(" "),n("ul",t._l(t.box[e],function(e,o){return n("li",{key:o,staticClass:"xu"},[n("router-link",{attrs:{to:"/detail?id="+e.id}},[t._v(t._s(e.name))])],1)}),0)])})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"zhi"},[e("div",[this._v("当前定位城市：")]),this._v(" "),e("div",[this._v("定位不准时，请在城市列表中选择")])])}]};var h=n("C7Lr")(v,p,!1,function(t){n("9Hmr")},"data-v-03bf158a",null).exports,m=n("3cXf"),_=n.n(m),f={name:"HelloWorld",components:{Head:l.a},data:function(){return{info:[],txt:"",list:[],info1:[],state:!1,bgood:" ",out:""}},methods:{sub:function(){var t=this;this.state=!0,u.a.get("http://elm.cangdu.org/v1/pois?type=search&city_id="+this.$route.query.id+"&keyword="+this.txt).then(function(e){console.log(e),t.list=e.data})},Local:function(t){this.state=!0;var e=JSON.parse(localStorage.getItem("data"))||[],n={name:t.name,address:t.address};-1==e.findIndex(function(e,n,o){return t.name==e.name})&&e.unshift(n),localStorage.setItem("data",_()(e))},clear:function(){this.info1=localStorage.removeItem("data")}},mounted:function(){var t=this;localStorage.getItem("vuex")?this.out=2:this.out=1;var e="http://elm.cangdu.org/v1/cities/"+this.$route.query.id;u.a.get(e).then(function(e){t.info=e.data.name}),this.info1=JSON.parse(localStorage.getItem("data"))||[]}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("Head",{attrs:{agood:!0,bgood:t.info,cgood:t.out}}),t._v(" "),n("div",{staticClass:"content"},[n("section",[n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],attrs:{type:"text",placeholder:"输入学校、商务楼、地址"},domProps:{value:t.txt},on:{input:function(e){e.target.composing||(t.txt=e.target.value)}}})]),t._v(" "),n("p",[n("input",{attrs:{type:"button",value:"提交"},on:{click:function(e){return t.sub()}}})])]),t._v(" "),n("div",{staticClass:"serch"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:0==t.state,expression:"state==false"}]},[n("div",[t._v("搜索历史")]),t._v(" "),t._l(t.info1,function(e,o){return n("router-link",{key:o,attrs:{to:"/home"}},[n("li",[n("p",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.address))])])])}),t._v(" "),n("div",{staticClass:"clear",on:{click:function(e){return t.clear()}}},[t._v("清空所有")])],2)]),t._v(" "),n("div",{staticClass:"hostory"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:1==t.state,expression:"state==true"}]},t._l(t.list,function(e,o){return n("router-link",{key:o,attrs:{to:"/home"}},[n("li",{on:{click:function(n){return t.Local(e)}}},[n("p",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.address))])])])}),1)])])],1)},staticRenderFns:[]};var w=n("C7Lr")(f,g,!1,function(t){n("Spqo")},"data-v-daebd764",null).exports,b=n("IHPB"),x=n.n(b),y=n("1w/Q"),C={name:"Home",components:{Head:l.a,bottom:y.a},data:function(){return{list:[],info:[],arr:[],bgood:"北京",out:"",loading:!1,finished:!1,num:0}},created:function(){var t=this;localStorage.getItem("vuex")?this.out=2:this.out=1,u.a.get("http://elm.cangdu.org/shopping/restaurants?latitude=31.22299&longitude=121.36025&offset=0&limit=20&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=").then(function(e){console.log(t.list),t.list=e.data}),u.a.get("http://elm.cangdu.org/v2/index_entry?geohash=39.78493,116.49476&group_type=1&flags[]=F").then(function(e){t.info=e.data.splice(0,8),t.arr=e.data})},methods:{onLoad:function(){var t=this;this.num+=8,u.a.get("http://elm.cangdu.org/shopping/restaurants?latitude=31.22299&longitude=121.36025&offset=0&limit="+this.num+"&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=").then(function(e){var n;(n=t.list).push.apply(n,x()(e.data))}),setTimeout(function(){t.loading=!1},3e3)},btn1:function(){this.$router.push("/my")},btn:function(){this.$router.push("/HelloWorld")},btn3:function(t){this.$router.push({path:"/deta",query:{id:t}})}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"box"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"span11",on:{click:function(e){return t.$router.go(-1)}}},[t._m(0)]),t._v(" "),n("div",{staticClass:"span2"},[n("span",{on:{click:t.btn}},[t._v(t._s(t.bgood))])]),t._v(" "),n("div",{staticClass:"span3"},[n("router-link",{attrs:{to:"/login"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.out,expression:"out==1"}]},[t._v("注册|登录")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.out,expression:"out==2"}],on:{click:t.btn1}},[n("i",{staticClass:"el-icon-user-solid"})])],1)]),t._v(" "),n("div",{staticClass:"content"},[n("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"blue"}},[n("van-swipe-item",t._l(t.info,function(e,o){return n("div",{key:o},[n("img",{attrs:{src:"//fuss10.elemecdn.com"+e.image_url}}),t._v(" "),n("p",[t._v(t._s(e.title))])])}),0),t._v(" "),n("van-swipe-item",t._l(t.arr,function(e,o){return n("div",{key:o},[n("img",{attrs:{src:"//fuss10.elemecdn.com"+e.image_url}}),t._v(" "),n("p",[t._v(t._s(e.title))])])}),0)],1),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"rend"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e,o){return n("van-cell",{key:o,on:{click:function(n){return t.btn3(e.id)}}},[n("div",[n("img",{attrs:{src:"https://elm.cangdu.org/img/"+e.image_path}})]),t._v(" "),n("div",{staticClass:"okkk"},[n("div",[n("span",[t._v("品牌")]),t._v(" "),n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",[t._v("保准票")])]),t._v(" "),n("div",[n("span",[n("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.rating,callback:function(n){t.$set(e,"rating",n)},expression:"v.rating"}})],1),t._v(" "),n("span",[t._v(t._s(e.rating))]),t._v(" "),n("span",[t._v("月售"+t._s(e.recent_order_num)+"单")]),t._v(" "),n("span",[t._v("蜂鸟专送")]),t._v(" "),n("span",[t._v("准时送")])]),t._v(" "),n("div",[n("span",[t._v("￥"+t._s(e.float_minimum_order_amount)+"起送/配送费约"+t._s(e.float_delivery_fee))]),t._v(" "),n("span",[t._v(t._s(e.distance)+"/"),n("b",{staticClass:"blue"},[t._v(t._s(e.order_lead_time))])])])])])}),1)],1)],1),t._v(" "),n("bottom")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"el-icon-arrow-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nearby"},[e("p",{staticClass:"el-icon-s-shop"}),this._v(" "),e("p",[this._v("附近商家")])])}]};var H=n("C7Lr")(C,k,!1,function(t){n("J2ir")},"data-v-1a66f2bb",null).exports,$=n("wSez"),L=n.n($);u.a.defaults.withCredentials=!0;var E={name:"Login",components:{Head:l.a},data:function(){return{bgood:"密码登录",user:"",password:"",code:"",numcode:"",show:!1,id:""}},methods:{btn:function(){this.$router.push("/reset")},one:function(){var t=this;u.a.post("https://elm.cangdu.org/v1/captchas").then(function(e){""!=e.data.code&&(t.numcode=e.data.code,console.log(e.data.code))})},add:function(){var t=this;u.a.post("http://elm.cangdu.org/v2/login",{captcha_code:this.code,username:this.user,password:this.password,id:this.id}).then(function(e){if(t.id=e.data.id,0==e.data.status)""!==t.user&&""!==t.password&&""!==t.code&&Object($.MessageBox)(e.data.message);else{var n={code:t.code,user:t.user,password:t.password,show:!0,id:t.id};t.$store.commit("add",n),t.$router.push("/my")}""==t.user?Object($.MessageBox)("请输入账号"):""==t.password?Object($.MessageBox)("请输入密码"):""==t.code&&Object($.MessageBox)("请输入验证码")})}},mounted:function(){this.one()}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ok"},[n("Head",{attrs:{agood:!0,bgood:t.bgood,cgood:3}}),t._v(" "),n("div",{attrs:{id:"content"}},[n("div",{staticClass:"login-s"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}})]),t._v(" "),n("div",[t.show?n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("div",{attrs:{id:"input"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ccc"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"验证码",maxlength:"4",id:"text"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("div",{staticClass:"number",attrs:{id:"number"}},[n("img",{attrs:{src:t.numcode}})]),t._v(" "),n("button",{on:{click:t.one}},[t._v("看不清换一张")])])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"logina"},[n("input",{attrs:{type:"button",value:"登录"},on:{click:t.add}})]),t._v(" "),n("div",{staticClass:"reset",on:{click:t.btn}},[t._v("重置密码？")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips"},[e("p",[this._v("温馨提示：未注册过的账号，登录时即自动登录")]),this._v(" "),e("p",[this._v("注册过的用户可凭账号密码登录；")])])}]};var S=n("C7Lr")(E,N,!1,function(t){n("42zy")},null,null).exports,R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("h1",[this._v(this._s(this.$store.state.n))]),this._v(" "),e("h1",[this._v(this._s(this.$store.getters.count))]),this._v(" "),e("h1")])},staticRenderFns:[]};var W=n("C7Lr")({},R,!1,function(t){n("TWtc")},"data-v-526f6d8e",null).exports;o.default.use(i.a);var O=new i.a({routes:[{path:"/HelloWorld",name:"HelloWorld",component:h},{path:"/detail",name:"Detail",component:w},{path:"/",name:"Home",component:H},{path:"/Login",name:"Login",component:S},{path:"/search",name:"search",component:function(){return n.e(4).then(n.bind(null,"7biW"))}},{path:"/order",name:"order",component:function(){return n.e(10).then(n.bind(null,"R7Pr"))}},{path:"/my",name:"my",component:function(){return n.e(9).then(n.bind(null,"Zjg2"))}},{path:"/Home",name:"Home",component:H},{path:"/hover",name:"hover",component:W},{path:"/logout",name:"logout",component:function(){return n.e(1).then(n.bind(null,"0US+"))}},{path:"/reset",name:"reset",component:function(){return n.e(8).then(n.bind(null,"Jy7u"))}},{path:"/headertop",name:"headertop",component:function(){return n.e(7).then(n.bind(null,"Z7K3"))}},{path:"/goods",name:"goods",component:function(){return n.e(3).then(n.bind(null,"jIjH"))}},{path:"/xin",name:"xin",component:function(){return n.e(5).then(n.bind(null,"Gn0P"))}},{path:"/addres",name:"addres",component:function(){return n.e(2).then(n.bind(null,"JhxC"))}},{path:"/deta",name:"deta",component:function(){return n.e(11).then(n.bind(null,"uPVw"))},children:[{path:"/",redirect:"/deta/left"},{path:"left",name:"left",component:function(){return n.e(0).then(n.bind(null,"JO2U"))}},{path:"right",name:"right",component:function(){return n.e(6).then(n.bind(null,"aPCx"))}}]}]}),P=n("2bvH"),j=new(n("H3vm").a)({storage:window.localStorage});o.default.use(P.a);var z=new P.a.Store({plugins:[j.plugin],state:{login:{code:"",user:"",password:"",show:!1,id:"",headPhoto:""},gou:[]},getters:{},mutations:{add:function(t,e){t.login=e},imag:function(t,e){t.login.headPhoto=e},gou:function(t,e){t.gou.push(e)},addnum:function(t,e){t.gou[e].number++},add1:function(t,e){t.gou[e].number++},cut1:function(t,e){t.gou[e].number--,t.gou[e].number<=0&&t.gou.splice(e,1)},del:function(t){t.gou.splice(0)}},actions:{}}),I=(n("5OHe"),n("NGWz"),n("qrwc")),F=(n("ZjEp"),n("bzuk")),J=n.n(F);n("4WSK");o.default.use(L.a),o.default.use(I.a),o.default.use(J.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:O,store:z,components:{App:s},template:"<App/>"})},QRpB:function(t,e){},"R+nR":function(t,e){},Spqo:function(t,e){},TWtc:function(t,e){},ZjEp:function(t,e){},ilO1:function(t,e,n){"use strict";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t.agood?n("div",{staticClass:"span11",on:{click:function(e){return t.$router.go(-1)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.agood,expression:"agood==1"}]},[n("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.agood,expression:"agood==2"}]},[n("i",{staticClass:"el-icon-search"})])]):t._e(),t._v(" "),t.bgood?n("div",{staticClass:"span2"},[n("span",[t._v(t._s(t.bgood))])]):t._e(),t._v(" "),t.cgood?n("div",{staticClass:"span3"},[n("router-link",{attrs:{to:"/login"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.cgood,expression:"cgood==1"}]},[t._v("注册|登录")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.cgood,expression:"cgood==2"}],on:{click:t.btn1}},[n("i",{staticClass:"el-icon-user-solid"})])],1):t._e()])},staticRenderFns:[]};var a=n("C7Lr")({name:"Head",props:["agood","bgood","cgood"],data:function(){return{}},methods:{btn1:function(){this.$router.push("/my")}}},o,!1,function(t){n("QRpB")},null,null);e.a=a.exports}},["NHnr"]);
//# sourceMappingURL=app.b86eccf675970a1e7019.js.map